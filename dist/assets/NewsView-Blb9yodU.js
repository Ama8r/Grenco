import{d as w,u as m,x as h,l as v,w as g,c as i,a as s,t as o,b as t,f,F as y,e as b,y as k,i as N,j as x,o as r,_ as S}from"./index-DJuOmgJg.js";const C={class:"news-page"},D={class:"page-header"},M={class:"container"},T={class:"page-title","data-aos":"fade-up"},V={class:"page-subtitle","data-aos":"fade-up","data-aos-delay":"100"},L={class:"section news-section"},z={class:"container"},B={key:0,class:"loading-state"},F={key:1,class:"error-state"},I={key:2,class:"news-grid"},U={class:"news-image"},j=["src","alt"],E={class:"news-category"},H={class:"news-content"},A={class:"news-date"},G={class:"news-title"},R={class:"news-excerpt"},$=["innerHTML"],q=["onClick"],J={key:3,class:"empty-state"},K=w({__name:"NewsView",setup(O){const{t:d,locale:c}=m(),n=h(),_=x(),p=l=>{const e=new Date(l);return new Intl.DateTimeFormat(c.value==="ar"?"ar-EG":"en-US",{year:"numeric",month:"long",day:"numeric"}).format(e)};v(()=>{n.fetchNews(c.value==="ar"?"ar":"en-US")}),g(()=>c.value,l=>{n.fetchNews(l==="ar"?"ar":"en-US")});const u=l=>{_.push({name:"news-details",params:{id:l}})};return(l,e)=>(r(),i("div",C,[s("div",D,[s("div",M,[s("h1",T,o(t(d)("news.title")),1),s("p",V,o(t(d)("news.subtitle")),1)])]),s("section",L,[s("div",z,[t(n).loading?(r(),i("div",B,e[1]||(e[1]=[s("i",{class:"pi pi-spin pi-spinner",style:{"font-size":"2rem"}},null,-1),s("p",null,"Loading news...",-1)]))):t(n).error?(r(),i("div",F,[e[2]||(e[2]=s("i",{class:"pi pi-exclamation-triangle",style:{"font-size":"2rem",color:"var(--color-error)"}},null,-1)),s("p",null,o(t(n).error),1),s("button",{onClick:e[0]||(e[0]=()=>t(n).fetchNews()),class:"btn btn-primary"}," Try Again ")])):(r(),i("div",I,[(r(!0),i(y,null,b(t(n).news,a=>(r(),i("article",{key:a.id,class:"news-card","data-aos":"fade-up"},[s("div",U,[s("img",{src:a.image.url,alt:a.image.title},null,8,j),s("div",E,o(a.category),1)]),s("div",H,[s("div",A,o(p(a.date)),1),s("h2",G,o(a.title),1),s("p",R,o(a.excerpt),1),s("div",{class:"news-body",innerHTML:a.content},null,8,$),s("a",{href:"javascript:void(0)",onClick:k(P=>u(a.id),["prevent"]),class:"news-link"},[N(o(t(d)("news.readMore"))+" ",1),e[3]||(e[3]=s("i",{class:"pi pi-arrow-right"},null,-1))],8,q)])]))),128))])),!t(n).loading&&!t(n).error&&t(n).news.length===0?(r(),i("div",J,e[4]||(e[4]=[s("i",{class:"pi pi-inbox",style:{"font-size":"2rem"}},null,-1),s("p",null,"No news articles available at the moment.",-1)]))):f("",!0)])])]))}}),W=S(K,[["__scopeId","data-v-1b8b0427"]]);export{W as default};
